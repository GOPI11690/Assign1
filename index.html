<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment 1</title>
    <link rel="stylesheet" href="style.css">
    <!-- <script src="script.js" defer></script> -->
</head>
<body>
    <div class="main">
        <div class="subMain">
            <table>
                <tr>
                    <td><label for="custName">Customer Name</label></td>
                    <td><input type="text" id="custName" placeholder="Enter Customer Name" required/></td>
                </tr>
                <tr>
                    <td><label for="purcAmt">Purchase Amount</label></td>
                    <td><input id="purcAmt" type="number" placeholder="Enter the Purchase Amount" required/></td>
                </tr>
                <tr>   
                    
                    <td class="btnSubmit" colspan="2"><button onclick="calculate()">Submit</button></td>
                    
                </tr>
                <tr><td colspan="2"><p id="welcomeUser"></p></td>
                    
                </tr>
                <tr><td colspan="2"><p id="rewardUser"></p></td>
                    
                </tr>
            </table>
        </div>
        
    </div>
    <script>
        
        let welcomePara=document.getElementById("welcomeUser");
        let rewardUser=document.getElementById("rewardUser");
        function calculate(){
            let custmName=document.getElementById("custName").value;
            let custName=custmName.toUpperCase();
            let purcAmt=parseInt(document.getElementById("purcAmt").value);
            let bonus=0;
            if(purcAmt>=100 && purcAmt<1000){
                bonus=0.05;
            }
            else if(purcAmt>=1000 && purcAmt<2500){
                bonus=0.1;
            }else if(purcAmt>=2500 && purcAmt<5000){
                bonus=0.15;
            }
            else{
                bonus=0.2;
            }
            let bonusPoints= Math.round(purcAmt*bonus);
            if(purcAmt<100){
                welcomePara.innerHTML="Thank You For Visiting Us!!!";
            }
            else{
                welcomePara.innerHTML=`Welcome ${custName}!  Your Purchase Amount Rs. ${purcAmt}.\n  You have rewarded Rs.${bonusPoints} Gift Voucher for your ${bonusPoints} Bonus Points...`;
                let optionNum=parseInt(prompt("You can Select Reward Points from Bonus Points by choosing below Options : \n1 to redeem all \n2 to redeem 50%  \n0 to Cancel"));
                
                switch(optionNum){
                    case 0:
                        rewardUser.innerHTML=`You cancelled the redeem option \n You have pay Rs. ${purcAmt} \nYou ${bonusPoints} remaining Gift Voucher`;
                        break;
                    case 1:
                        rewardUser.innerHTML=`Congratulations! You Redeemed all your Gift Voucher \n You have to pay Rs. ${purcAmt-bonusPoints} \nYou 0 remaining Reward Points`;
                        break;
                    case 2:
                        bonusPoints=Math.round(bonusPoints/2);
                        rewardUser.innerHTML=`Congratulations! You Redeemed ${bonusPoints} Gift Voucher \n You have pay Rs. ${purcAmt-bonusPoints} \nYou have ${bonusPoints} remaining Gift Voucher`;
                        break;
                    default:
                        rewardUser.innerHTML="Enter '0', '1' or '2' options";
                }
            }
        }
        
    </script>
</body>
</html>
